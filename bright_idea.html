<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>kjnorris1205 on GitHub</title>
    <style>
    </style>
</head>
<body>
    <h1>If you have a bright idea, turn the light on.</h1>

    <div>
        <p>
            <button type="button" onclick="bigger()">Bigger</button>
            <button type="button" onclick="smaller()">Smaller</button>
        </p>
        <img  id="myImage" width="100" height="180" />
        <p>
            <button type="button" onclick="light(1)">Light On</button>
            <button type="button" onclick="light(0)">Light Off</button>
        </p>
        <p>You flicked the switch <span id="lightCounter"></span> time(s).</p>
    </div>

    <script>
        var lightStatus = "off";
        var lightCounter = 0;

        if (localStorage.lightStatus)
            lightStatus = localStorage.lightStatus;

        if (localStorage.lightCounter)
            lightCounter = localStorage.lightCounter;
        else
            localStorage.lightCounter = lightCounter = 0;

        function light(sw) {
            if (sw == 0)
                localStorage.lightStatus = lightStatus = "off";
            else
                localStorage.lightStatus = lightStatus = "on";

            updateLightSource();

            localStorage.lightCounter = ++lightCounter;
            updateLightCounter();
        }

        function bigger() {
            var bulb = document.getElementById("myImage");
            bulb.width *= 1.25;
            bulb.height *= 1.25;
        }

        function smaller() {
            var bulb = document.getElementById("myImage");
            bulb.width /= 1.25;
            bulb.height /= 1.25;
        }

        function updateLightSource() {
            var pic;

            if (lightStatus == "off")
                pic = "images/pic_bulboff.gif";
            else
                pic = "images/pic_bulbon.gif";

            document.getElementById("myImage").src = pic;
        }

        function updateLightCounter() {
            document.getElementById("lightCounter").innerHTML = String(lightCounter);
        }

        updateLightSource();
        updateLightCounter();
    </script>
</body>
</html>